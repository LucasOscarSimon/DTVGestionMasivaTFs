<div class="container py-4">
    <div class="row">
        <div class="col-sm-2"></div>

        <div class="col-sm-8 bg-white">
            <div class="panel panel-default">
               
                <div class="panel panel-heading">
                    <div class="py-4 ml-md-4">
                        <h2>Resumen de Archivo a Procesar</h2>
                    </div>
                </div>

                <div class="panel panel-body">
                    <div class="px-4 pb-4">
                        <div class="form">

                            <div class="row">
                                <label for="" class="col-3 pr-0 ">Cantidad de Registros:</label>
                                <label for="" class="col">{{obeAjusteMasivo.obeCabecera.NroRegistrosArchivo}}</label>
                            </div>
                            <div class="row">
                                <label for="" class="col-3 pr-0 ">Monto Total:</label>
                                <label for="" class="col ">{{obeAjusteMasivo.obeCabecera.MontoTotal}}</label>
                            </div>
                            <div class="row">
                                <label for="" class="col-3 pr-0">Nombre del Archivo:</label>
                                <label for="" class="col ">{{obeAjusteMasivo.obeCabecera.NombreArchivo}}</label>
                            </div>
                            <div class="row">
                                <label for="" class="col-3 pr-0">Usuario:</label>
                                <label for="" class="col ">{{obeAjusteMasivo.obeCabecera.NombreUsuario}}</label>
                            </div>
                            <div class="row">
                                <label for="" class="col-3 pr-0">Fecha y Hora:</label>&nbsp;&nbsp;&nbsp;
                                <p-calendar [(ngModel)]="dteFechaActual" [locale]="es" dateFormat="dd/mm/yy" 
                                    [disabled]="true"></p-calendar>
                            </div>
                            <div class="row">
                                <label for="" class="col-3 pr-0">Registros Fallidos:</label>
                                <label for="" class="col ">{{obeAjusteMasivo.obeCabecera.NroRegistrosFallidos}}</label>
                            </div>
                            <div *ngIf="!existeRegistrosInvalidos" class="row">
                                <div class="d-flex col-3 pr-0 align-items-center">Motivo/Razón:</div>
                                <div class="col">
                                    <input type="text" [(ngModel)]="strMotivoImportacion" class="form-control" [disabled]="mostrarAnular"
                                     id="motivo">
                                </div>
                            </div>

                        </div>

                        <div *ngIf="existeRegistrosInvalidos">
                          <div class="row py-2">
                            <div class="alert alert-warning" role="alert">
                              Los registros fallidos deben ser subsanados y cargar un archivos
                              nuevo. La carga no procede
                            </div>                            
                          </div>

                            <div class="py-2">
                                <p-table [value]="registros" [columns]="cols" 
                                    [paginator]="true" [rows]="10" [style]="{width: 'auto'}"
                                    [responsive]="true">
                                    <ng-template pTemplate="caption">
                                        <div style="text-align: left">Detalle de Registros Fallidos
                                            <!-- <i class="pi pi-search" style="margin:4px 4px 0 0"></i>
                                      <input type="text" pInputText size="50" placeholder="Buscar" (input)="dt.filterGlobal($event.target.value, 'contains')"
                                        style="width:auto"> -->
                                        </div>
                                    </ng-template>

                                    <ng-template pTemplate="header" let-columns>
                                        <tr>
                                          <th *ngFor="let col of columns" >
                                            {{col.header}}
                                          </th>                                            
                                        </tr>
                                    </ng-template>

                                    <ng-template pTemplate="body" let-rowData let-columns="columns" >
                                      <tr>
                                        <td *ngFor="let col of columns">
                                          {{rowData[col.field]}}
                                        </td>

                                        <!--<td><button pButton type="button" icon="pi pi-pencil" (click)="ClickEditar(entidades)"></button></td>-->
                                      </tr>
                                    </ng-template>
                                </p-table>
                            </div>
                            <div class="d-flex justify-content-end mb-3 pt-4 px-4">
                                <!-- <div>
                                        <button pButton type="button" (click)="cancelarCarga()" label="Retornar"></button>
                                    </div> -->
                                <div>
                                    <button pButton type="button" (click)="mostrarSinErrores()" label="Retornar"></button>
                                </div>
                            </div>

                        </div>


                        <div *ngIf="!existeRegistrosInvalidos && !mostrarAnular" class="d-flex justify-content-between mb-3 pt-4 px-4">
                            <div>
                                <button pButton type="button" (click)="confirmarCarga()" label="Confirmar Carga"></button>
                            </div>
                            <div>
                                <button pButton type="button" (click)="cancelarCarga()" label="Cancelar Carga"></button>
                            </div>
                        </div>

                        <div *ngIf="!existeRegistrosInvalidos && mostrarAnular" class="d-flex justify-content-between mb-3 pt-4 px-4">
                            <div>
                                <button pButton type="button" (click)="anularCarga()" label="Anular Carga"></button>
                            </div>                            
                        </div>

                        <div *ngIf="isLoading">
                            <img src="./assets/images/loadingCircle.gif" />
                        </div>

                    </div>
                </div>

            </div>
        </div>

        <div class="col-sm-2"></div>
    </div>
</div>




<!-- <div>
    <h3>Resumen de Archivo a Procesar</h3>
    <table>
        <tr>
            <td>Cantidad de Registros:</td>
            <td>30872</td>
        </tr>
        <tr>
            <td>Monto Total:</td>
            <td>234514</td>
        </tr>
        <tr>
            <td>Nombre del Archivo:</td>
            <td>Archivo.xls</td>
        </tr>
        <tr>
            <td>Usuario:</td>
            <td>Juan Fernandez</td>
        </tr>
        <tr>
            <td>Fecha y Hora:</td>
            <td></td>
        </tr>
        <tr>
            <td>Registros Fallidos:</td>
            <td>208</td>
        </tr>
        <tr>
            <td>Motivo/Razón:</td>
            <td><input type="text"></td>
        </tr>
    </table>

    <p>Detalle de Registros Fallidos</p>
    <table>
        <tr>
            <th>Fila</th>
            <th>Columna</th>
            <th>Detalle</th>
        </tr>
        <tr>
            <td>1</td>
            <td>2</td>
            <td>detalle</td>
        </tr>
    </table>
    <p><button class="btn btn-dtv" (click)="confirmarCarga()">Confirmar Carga</button></p>
    <p><button class="btn btn-dtv" (click)="cancelarCarga()">Cancelar Carga</button></p>
</div> -->
